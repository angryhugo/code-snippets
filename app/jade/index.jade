extends layout

block title
    | #{t("index.title")}

append head
    - if (nodeEnv == "production") {
        link(rel='stylesheet', href='/static/css/index.min.css')
    - }
    - else {
        link(rel='stylesheet', href='/assets/vendor/highlight/css/tomorrow.css')
        link(rel='stylesheet', href='/static/css/index.css')
    - }

block main
    div.container.nav-margin
        div.row
            div.col-sm-6.col-lg-6
                pre
                    //- code(style="overflow-x:scroll;white-space:pre")
                    code
                        | if (hasAccount) {<br>&nbsp;&nbsp;&nbsp;&nbsp;login(email,pwd,function(isValid, errMsg) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (isValid) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res.redirect('/');<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res.send(errMsg);<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>} else {<br>&nbsp;&nbsp;&nbsp;&nbsp;res.redirect('/users/signup');<br>}
            div.col-sm-6.col-lg-6
                pre
                    code
                        | function login(email, password, callback) {<br>&nbsp;&nbsp;&nbsp;&nbsp;//check account...<br>&nbsp;&nbsp;&nbsp;&nbsp;var isValid= ... || false;<br>&nbsp;&nbsp;&nbsp;&nbsp;var errMsg= ... || '';<br>&nbsp;&nbsp;&nbsp;&nbsp;if (isValid) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback(true);<br>&nbsp;&nbsp;&nbsp;&nbsp;} else {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback(false ,errMsg);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}

    div.container.search-divider
        div.page-header
            h3
                | #{t("index.searchTitle")}
                a.btn.btn-info.pull-right(href="/snippets/new")
                        i.fa.fa-plus
                            | #{t("index.createNew")}
        form#form-search.form-horizontal.col-sm-offset-1.col-sm-10.col-lg-offset-2.col-lg-7(role='form',action='/snippets/search',method='POST')
            div.input-group
                input#input-csrf(type='hidden',name='_csrf',value='#{token}')
                input#input-search.form-control(type="text",name="snippet_title",placeholder='#{t("index.searchPlaceholder")}',autocomplete="off")
                span.input-group-btn
                    button#btn-index-search.btn.btn-success
                        i.fa.fa-search

    div.container
        div.row
            div.col-sm-3.col-lg-3
                button.card
                    img(src='/static/images/icon-js.png')
                    div.description
                        h3 &nbsp;&nbsp;&nbsp;javascript
                        p An interpreted computer programming language
            div.col-sm-3.col-lg-3
                button.card
                    img(src='/static/images/icon-java.png')
                    div.description
                        h3 &nbsp;&nbsp;&nbsp;java
                        p An interpreted computer programming language
            div.col-sm-3.col-lg-3
                button.card
                    img(src='/static/images/icon-c.png')
                    div.description
                        h3 &nbsp;&nbsp;&nbsp;c/c++
                        p An interpreted computer programming language
            div.col-sm-3.col-lg-3
                button.card
                    img(src='/static/images/icon-c-sharp.png')
                    div.description
                        h3 &nbsp;&nbsp;&nbsp;c#
                        p An interpreted computer programming language

block scripts
    - if (nodeEnv == "production") {
        script(type='text/javascript', src='/static/js/index.min.js')
    - }
    - else {
        script(type='text/javascript', src='/assets/js/index.js')
        script(type='text/javascript', src='/assets/vendor/highlight/js/highlight.pack.js')
    - }
